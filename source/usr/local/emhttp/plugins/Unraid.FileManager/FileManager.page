Menu="UNRAID-OS"
Type="xmenu"
Title="FileManager"
Icon="file"
Tabs="true"
Tag="folder"
---
<?PHP
/* Copyright 2019, Dave Walker (itimpi).
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License version 2,
 * as published by the Free Software Foundation.
 *
 * Limetech is given expliit permission to use this code in any way they like.
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 */

require_once '/usr/local/emhttp/plugins/Unraid.FileManager/fileManagerHelpers.php';
?>
<script>

// Preset fields to be enabled/disabled as appropriate

function presetFilemanager(form) {
}

function startFM() {
    alert ('startFM');
}

// Document Ready function
$(function() {
  if ( typeof caPluginUpdateCheck === "function" ) {
    caPluginUpdateCheck("Unraid.FileManager",{name:"Unraid FileManager",element:".pluginUpdate"});
  }
  var oForm = document.getElementById('FileManager');
  presetFileManager(oForm);
  resize();
  $(window).bind('resize',function(){resize();});
});

function resize() {
  $('#fmArea').height(Math.max(window.innerHeight-320,330)).show();
}

function userShares() {
}

function onlyDrives() {
}

</script>

<div class='pluginUpdate'></div>

<input type="radio" name="scope" value="drives" onclick="onlyDrives()"> Drives  <input type="radio" name="scope" value="user" onclick="onlyDrives"> User Shares<br>         
: <input type="button" id="Done" value="Done" onclick="done()">
<a style='float:right' href='https://www.paypal.com/cgi-bin/webscr?cmd=xclick&amp;business=info@gerd-tentler.de&amp;item_name=FileManager&amp;no_shipping=1&amp;no_note=1&amp;&currency_code=EUR&amp;lc=US&amp;bn=PP-BugNowBF' target='_blank'><img src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif"></a>

 
  <?
  include_once('/usr/local/emhttp/filemanager/class/FileManager.php');
  $FineManager = null;		// ensure we destroy any exiting FileManager object
  $FileManager = new FileManager();
  // If we need to over-ride any default settings do it here!
  $FileManager->fmgrWebPath = '../../filemanager';
  $FileManager->fmgrCaption = 'tower';
  ?>

  <div markdown="0" id="fmArea" style="height:900px;">
  <table border="0" style="width:90%;height=50%"><tr>
  <td align="center">

  <?= $FileManager->create(); ?>
  
  </td>
  </tr></table>

  </div>
  -->